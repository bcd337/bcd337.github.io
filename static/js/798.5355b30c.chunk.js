"use strict";(self.webpackChunkanime=self.webpackChunkanime||[]).push([[798],{5849:function(n,e,t){t.d(e,{Z:function(){return c}});t(2791);var r,a,i=t(168),o=t(5838),s=o.Z.div(r||(r=(0,i.Z)([""]))),d=o.Z.div(a||(a=(0,i.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill,minmax(8rem,1fr));\n  justify-content: center;\n  gap: 1.5rem;\n"]))),l=t(184),c=function(n){var e=n.children;return(0,l.jsx)(s,{"data-testid":"AnimeList-Container",children:(0,l.jsx)(d,{children:e})})}},399:function(n,e,t){t.d(e,{ZP:function(){return C}});var r,a,i,o,s,d,l,c,u=t(168),g=t(5838),f=t(9777),p=(0,g.Z)(f.CC)(r||(r=(0,u.Z)([""]))),m=(0,g.Z)(f.CC)(a||(a=(0,u.Z)(["\n  transform: rotate(180deg);\n"]))),h=(0,g.Z)(f.CC)(i||(i=(0,u.Z)(["\n  transform: rotate(90deg);\n"]))),Z=(0,g.Z)(f.CC)(o||(o=(0,u.Z)(["\n  transform: rotate(-90deg);\n"]))),x=(0,g.Z)(f.Tp)(s||(s=(0,u.Z)([""]))),v=(0,g.Z)(f.Tp)(d||(d=(0,u.Z)(["\n  transform: rotate(180deg);\n"]))),j=(0,g.Z)(f.Tp)(l||(l=(0,u.Z)(["\n  transform: rotate(90deg);\n"]))),b=(0,g.Z)(f.Tp)(c||(c=(0,u.Z)(["\n  transform: rotate(-90deg);\n"]))),y=t(184),C=function(n){var e=n.direction,t=n.className,r=n.tail,a=void 0===r||r;switch(e){case"right":return a?(0,y.jsx)(m,{className:t,"data-testid":"ArrowRight"}):(0,y.jsx)(v,{className:t,"data-testid":"ArrowSmallRight"});case"top":return a?(0,y.jsx)(h,{className:t,"data-testid":"ArrowTop"}):(0,y.jsx)(j,{className:t,"data-testid":"ArrowSmallTop"});case"bottom":return a?(0,y.jsx)(Z,{className:t,"data-testid":"ArrowBottom"}):(0,y.jsx)(b,{className:t,"data-testid":"ArrowSmallBottom"});default:return a?(0,y.jsx)(p,{className:t,"data-testid":"ArrowLeft"}):(0,y.jsx)(x,{className:t,"data-testid":"ArrowSmallLeft"})}}},701:function(n,e,t){t.d(e,{Z:function(){return s}});t(2791);var r,a=t(168),i=t(5838).Z.button(r||(r=(0,a.Z)(["\n  cursor: pointer;\n  background: transparent;\n  border: none;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--light);\n  border-radius: 50%;\n  height: 2.75rem;\n  width: 2.75rem;\n  font-size: 1.5rem;\n  --color: var(--dark);\n"]))),o=t(184),s=function(n){var e=n.className,t=n.children,r=n.onClick,a=n.title;return(0,o.jsx)(i,{className:e,onClick:r,title:a,"data-testid":"ButtonCicle-Container",children:t})}},6004:function(n,e,t){t.d(e,{Z:function(){return i}});var r,a=t(168),i=t(5838).Z.div(r||(r=(0,a.Z)(["\n  flex: 1 1 auto;\n"])))},8233:function(n,e,t){t.d(e,{Z:function(){return s}});t(2791);var r,a=t(168),i=t(5838).Z.h1(r||(r=(0,a.Z)(["\n  font-size: 3.2rem;\n  margin: 0;\n"]))),o=t(184),s=function(n){var e=n.children;return(0,o.jsx)(i,{children:e})}},6798:function(n,e,t){t.r(e),t.d(e,{default:function(){return Mn}});var r,a,i,o,s,d,l,c,u,g,f,p,m,h,Z,x,v,j,b,y,C,k=t(4165),w=t(2982),P=t(5861),A=t(885),L=t(2791),N=t(4942),S=t(1413),M=function(n,e){var t=(0,L.useState)((function(){return void 0===window.history.state[n]?e:window.history.state[n]})),r=(0,A.Z)(t,2),a=r[0],i=r[1];return[a,function(e){window.history.replaceState((0,S.Z)((0,S.Z)({},window.history.state),{},(0,N.Z)({},n,e)),""),i(e)}]},D=t(168),I=t(7570),T=t(3173),E=t(6704),R=(0,I.Ps)(r||(r=(0,D.Z)(["\n  query GetAnimes($sort: [MediaSort], $page: Int, $perPage: Int ) {\n    Page (page: $page, perPage: $perPage) {\n      id @client\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      media (type: ANIME, sort: $sort) {\n        id\n        coverImage {\n          extraLarge\n          large\n          medium\n          color\n        }\n        title {\n          romaji\n          native\n          english\n        }\n      }\n    }\n  }\n"]))),B=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return(0,T.a)(R,{variables:{sort:n,page:e,perPage:t}})},O=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return E.Z.query({query:R,variables:{sort:n,page:e,perPage:t}})},$=t(7889),_=t(9777),q=t(9348),z=t(5399),Y=t(2185),F=t(5838),G=F.Z.div(a||(a=(0,D.Z)(["\n  display: flex;\n  justify-content: center;\n  gap: 1.5rem;\n  width: 100%;\n  flex-flow: column;\n"]))),J=F.Z.div(i||(i=(0,D.Z)(["\n  flex: 0 0 10rem;\n"]))),Q=F.Z.div(o||(o=(0,D.Z)(["\n  display: flex;\n  gap: 1rem;\n  padding: 0.5rem;\n  background-color: var(--background-color);\n  border-radius: 0.4rem;\n"]))),U=F.Z.div(s||(s=(0,D.Z)(["\n  display: flex;\n  gap: 1rem;\n  padding: 0.5rem;\n  background-color: var(--background-color);\n  border-radius: 0.4rem;\n"]))),V=F.Z.div(d||(d=(0,D.Z)(["\n  flex: 1 1 auto;\n  position: relative;\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  > * { \n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n  }\n"]))),H=t(184),K=function(n){var e=n.loading,t=n.error,r=n.data,a=n.addData,i=n.pagingMode,o=n.morePageLoading,s=n.onLoadNextPage,d=(0,q.YD)({threshold:0,triggerOnce:!1,onChange:s}).ref;return e?(0,H.jsx)("p",{"data-testid":"ManageAnimeLists-loading",children:"Loading..."}):t?(0,H.jsx)("p",{"data-testid":"ManageAnimeLists-error",children:"Error :("}):r?(0,H.jsxs)(G,{"data-testid":"ManageAnimeLists-Container",children:[(0,H.jsxs)(U,{children:[(0,H.jsx)(J,{children:"Anime"}),(0,H.jsx)(V,{children:"Collection"})]}),[].concat((0,w.Z)(r.Page.media),(0,w.Z)(a||[])).map((function(n){var e=n.title,t=n.coverImage,r=n.id;return(0,H.jsxs)(Q,{children:[(0,H.jsx)(J,{children:(0,H.jsx)(z.ZP,{shadow:!1,title:e,image:t},r)}),(0,H.jsx)(V,{children:(0,H.jsx)(Y.Z,{id:r,media:{title:e,coverImage:t,id:r},create:!0,colorFill:!1,deleteAble:!1})})]},r)})),!o&&!i&&(0,H.jsx)("div",{ref:d,"data-testid":"ManageAnimeLists-div"})]}):(0,H.jsx)("p",{"data-testid":"ManageAnimeLists-no-data",children:"data not found("})},W=JSON.parse('[{"value":"POPULARITY","label":"Popularity"},{"value":"UPDATED_AT","label":"Latest updated"},{"value":"TITLE_ROMAJI","label":"Title"},{"value":"TRENDING","label":"Trending"},{"value":"SCORE","label":"Average Score"}]'),X=t(8963),nn=F.Z.select(l||(l=(0,D.Z)(["\n  background: var(--light);\n  border: none;\n  height: 2.75rem;\n  padding: 0 0.5rem;\n  border-radius: 0.5rem;\n  color: var(--color);\n"]))),en=function(n){var e=n.className,t=n.onChange,r=n.value,a=n.options;return(0,H.jsx)(nn,{onChange:t,value:r,className:e,"data-testid":"Select",children:a.map((function(n){return(0,H.jsx)("option",{value:n.value,children:n.label},n.value)}))})},tn=t(701),rn=F.Z.div(c||(c=(0,D.Z)(["\n  display: flex;\n  gap: 1.5rem;\n  justify-content: flex-start;\n  width: 100%;\n"]))),an=(0,F.Z)(en)(u||(u=(0,D.Z)(["\n  flex: 1 1 auto;\n  background-color: var(--background-color);\n"]))),on=F.Z.div(g||(g=(0,D.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column;\n  gap: 1rem;\n"]))),sn=(0,F.Z)(tn.Z)(f||(f=(0,D.Z)(["\n  background-color: var(--background-color);\n"]))),dn=function(){var n=M("page",0),e=(0,A.Z)(n,2),t=e[0],r=e[1],a=(0,L.useState)(!1),i=(0,A.Z)(a,2),o=i[0],s=i[1],d=M("sort",W[0].value),l=(0,A.Z)(d,2),c=l[0],u=l[1],g=M("orderAsc",!1),f=(0,A.Z)(g,2),p=f[0],m=f[1],h=B("".concat(c).concat(p?"":"_DESC"),t+1),Z=h.loading,x=h.error,v=h.data,j=(0,L.useState)([]),b=(0,A.Z)(j,2),y=b[0],C=b[1],N=(0,L.useState)(1),S=(0,A.Z)(N,2),D=S[0],I=S[1],T=function(){var n=(0,P.Z)((0,k.Z)().mark((function n(e){var t,r,a;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:if(!o){n.next=4;break}return n.abrupt("return");case 4:return s(!0),n.next=7,O("".concat(c).concat(p?"":"_DESC"),D+1);case 7:t=n.sent,r=t.data,I(D+1),a=[].concat((0,w.Z)((null===v||void 0===v?void 0:v.Page.media)||[]),(0,w.Z)(y)),C([].concat((0,w.Z)(y),(0,w.Z)(r.Page.media.filter((function(n){var e=n.id;return a.findIndex((function(n){return n.id===e}))<0}))))),s(!1);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),E=function(){r(0),m(!p)};return(0,H.jsxs)(on,{children:[(0,H.jsxs)(rn,{children:[(0,H.jsx)(an,{onChange:function(n){var e=n.target;return u(e.value)},value:c,options:W}),(0,H.jsxs)(sn,{title:p?"Ascending":"Descending",children:[p&&(0,H.jsx)(_.Qb,{onClick:E,"data-testid":"ManageCollection-toogle-sort"}),!p&&(0,H.jsx)(_.lg,{onClick:E,"data-testid":"ManageCollection-toogle-sort"})]})]}),(0,H.jsx)(K,{loading:Z,error:!!x,data:v,addData:y,onLoadNextPage:T,pagingMode:!1,morePageLoading:o}),o&&"Loading..."]})},ln=function(){return(0,H.jsx)(X.e,{client:E.Z,children:(0,H.jsx)(dn,{})})},cn=function(){return $.Z.fire({html:(0,H.jsx)(ln,{}),showConfirmButton:!1,showCancelButton:!1,showCloseButton:!0,footer:!1,title:"Manage Collection"})},un=t(746),gn=t(6048),fn=t.n(gn),pn=t(399),mn=F.Z.div(p||(p=(0,D.Z)(["\n  position: sticky;\n  bottom: 0;\n  display: flex;\n  left: 0;\n  height: 4rem;\n  align-items: center;\n  justify-content: flex-start;\n  background: var(--light);\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n  max-width: 90rem;\n  width: 100%;\n  margin: auto;\n"]))),hn=F.Z.div(m||(m=(0,D.Z)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 4rem;\n  border-right: 1px solid var(--background-color);\n  background-color: ",";\n\n  > * {\n    height: 2rem;\n    width: 2rem;\n  }\n"])),(function(n){return n.active?"var(--background-color)":"transparent"})),Zn=F.Z.div(h||(h=(0,D.Z)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  position: relative;\n  overflow-x: auto;\n  flex: 1 1 0;\n\n  ul {\n    list-style: none;\n    display: flex;\n    height: 100%;\n    align-items: center;\n\n    li { \n      user-select: none;\n      cursor: pointer;\n      width: 4rem;\n      text-align: center;\n      border-right: 1px solid var(--background-color);\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background-color: var(--light);\n\n      > * {\n        height: 100%;\n        width: 100%;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      &.selected {\n        background-color: var(--background-color);\n      }\n\n      &:first-of-type {\n        position: sticky;\n        left: 0;\n      }\n\n      &:nth-last-of-type(2) {\n        border-right: none;\n      }\n\n      &:last-of-type {\n        position: sticky;\n        right: 0;\n        border-right: none;\n        border-left: 1px solid var(--background-color);\n      }\n    }\n  }\n"]))),xn=function(n){var e=n.onChangePagingMode,t=n.onPageChange,r=n.pageCount,a=n.page,i=n.pagingMode;return(0,H.jsxs)(mn,{children:[(0,H.jsx)(hn,{active:!i,onClick:e,title:"Infinite scroll mode",children:(0,H.jsx)(_.eL,{})}),(0,H.jsx)(hn,{active:i,onClick:e,title:"Pagination mode",children:(0,H.jsx)(_.RR,{})}),i&&r>0&&(0,H.jsx)(Zn,{"data-testid":"animeControl-ItemPaging",children:(0,H.jsx)(fn(),{breakLabel:(0,H.jsx)(_.kr,{}),nextLabel:(0,H.jsx)(pn.ZP,{tail:!1,direction:"right"}),onPageChange:t,pageRangeDisplayed:3,marginPagesDisplayed:1,forcePage:a,pageCount:r,previousLabel:(0,H.jsx)(pn.ZP,{tail:!1,direction:"left"})})})]})},vn=t(5849),jn=t(9538),bn=(0,F.Z)(jn.Z)(Z||(Z=(0,D.Z)(["\n  position: relative;\n"]))),yn=function(n){var e=n.loading,t=n.error,r=n.data,a=n.addData,i=n.pagingMode,o=n.morePageLoading,s=n.onLoadNextPage,d=(0,q.YD)({threshold:0,triggerOnce:!1,onChange:s,initialInView:!0}).ref;return e?(0,H.jsx)("p",{"data-testid":"AnimeLists-loading",children:"Loading..."}):t?(0,H.jsx)("p",{"data-testid":"AnimeLists-error",children:"Error :("}):r?(0,H.jsxs)(vn.Z,{children:[[].concat((0,w.Z)(r.Page.media),(0,w.Z)(a||[])).map((function(n){var e=n.title,t=n.coverImage,r=n.id;return(0,H.jsx)(bn,{to:String(r),children:(0,H.jsx)(z.ZP,{id:r,shadow:!0,title:e,image:t})},r)})),!o&&!i&&(0,H.jsx)("div",{ref:function(n){d(n)},"data-testid":"AnimeLists-div"})]}):(0,H.jsx)("p",{"data-testid":"AnimeLists-no-data",children:"data not found("})},Cn=t(8233),kn=t(6004),wn=F.Z.div(x||(x=(0,D.Z)(["\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n  white-space: nowrap;\n  flex-flow: column;\n"]))),Pn=F.Z.div(v||(v=(0,D.Z)(["\n  display: flex;\n  gap: 1rem;\n  justify-content: flex-start;\n"]))),An=(0,F.Z)(en)(j||(j=(0,D.Z)(["\n  flex: 1 1 auto;\n"]))),Ln=F.Z.div(b||(b=(0,D.Z)(["\n  font-size: 1rem;\n  border: none;\n  background-color: var(--light);\n  border-radius: 0.4rem;\n  height: 2.75rem;\n  padding: 0 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n"]))),Nn=F.Z.div(y||(y=(0,D.Z)(["\n  background-color: var(--light);\n  position: sticky;\n  bottom: 0;\n"]))),Sn=(0,F.Z)(kn.Z)(C||(C=(0,D.Z)(["\n  padding-bottom: 1.5rem;\n"]))),Mn=function(){var n,e=M("pagingMode",!0),t=(0,A.Z)(e,2),r=t[0],a=t[1],i=M("page",0),o=(0,A.Z)(i,2),s=o[0],d=o[1],l=(0,L.useState)(!1),c=(0,A.Z)(l,2),u=c[0],g=c[1],f=M("sort",W[0].value),p=(0,A.Z)(f,2),m=p[0],h=p[1],Z=M("orderAsc",!1),x=(0,A.Z)(Z,2),v=x[0],j=x[1],b=B("".concat(m).concat(v?"":"_DESC"),s+1),y=b.loading,C=b.error,N=b.data,S=b.previousData,D=(0,L.useState)([]),I=(0,A.Z)(D,2),T=I[0],E=I[1],R=(0,L.useState)(1),$=(0,A.Z)(R,2),q=$[0],z=$[1],Y=function(){var n=(0,P.Z)((0,k.Z)().mark((function n(e){var t,a,i;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:if(!r){n.next=4;break}return n.abrupt("return");case 4:if(!u){n.next=6;break}return n.abrupt("return");case 6:return g(!0),n.next=9,O("".concat(m).concat(v?"":"_DESC"),q+1);case 9:t=n.sent,a=t.data,z(q+1),i=[].concat((0,w.Z)((null===N||void 0===N?void 0:N.Page.media)||[]),(0,w.Z)(T)),E([].concat((0,w.Z)(T),(0,w.Z)(a.Page.media.filter((function(n){var e=n.id;return i.findIndex((function(n){return n.id===e}))<0}))))),g(!1);case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),F=function(){d(0),j(!v)},G=function(){var n=(0,P.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:z(1),E([]),d(0),a(!r);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(un.Z,{title:"Anime Collection - Anime List",children:[(0,H.jsxs)(wn,{children:[(0,H.jsx)(Cn.Z,{children:"Anime List"}),(0,H.jsx)(Ln,{onClick:function(){return cn()},children:"Manage Collection"}),(0,H.jsxs)(Pn,{children:[(0,H.jsx)(An,{onChange:function(n){var e=n.target;return h(e.value)},value:m,options:W}),(0,H.jsxs)(tn.Z,{title:v?"Ascending":"Descending",children:[v&&(0,H.jsx)(_.Qb,{onClick:F}),!v&&(0,H.jsx)(_.lg,{onClick:F})]})]})]}),(0,H.jsxs)(Sn,{children:[(0,H.jsx)(yn,{loading:y,error:!!C,data:N,addData:r?[]:T,onLoadNextPage:Y,pagingMode:r,morePageLoading:u}),u&&!r&&"Loading..."]})]}),(0,H.jsx)(Nn,{children:(0,H.jsx)(xn,{onPageChange:function(n){var e=n.selected;return d(e)},pageCount:(null===(n=N||S)||void 0===n?void 0:n.Page.pageInfo.lastPage)||0,page:s,onChangePagingMode:G,pagingMode:r})})]})}}}]);
//# sourceMappingURL=798.5355b30c.chunk.js.map